# 내가 해야 될 일 – 인증 기능 테스트

아래 항목은 현재까지 구현된 로그인/회원가입/비밀번호 재설정(찾기) 흐름을 기준으로, 페이지별 테스트 포인트를 간단히 정리한 체크리스트입니다.

## 로그인 (/login)
- 현재까지 구현사항
  - 아이디/비밀번호 입력, 로그인 상태 유지(체크박스) UI.
  - 성공 시 Access Token(메모리) + Refresh Token(쿠키, HttpOnly) 처리 및 만료 주기(Access 30초, Refresh 절대 1분) 반영.
  - Access 만료 시 자동 갱신 시도, Refresh 절대 만료 도달 시 갱신 실패/로그아웃.
  - 에러 메시지 표준화(백엔드 에러 포맷 연동) 및 시각적 피드백(Alert).
- 사용자가 테스트해야 할 내용
  - 유효한 계정으로 로그인 성공 후 메인 진입 확인.
  - 잘못된 아이디/비밀번호로 에러 메시지 표출 확인.
  - 약 30초 경과 후 자동 갱신이 동작하여 세션 유지되는지 확인.
  - 최초 로그인 시점 기준 1분 경과 후 더 이상 갱신되지 않고 로그아웃(또는 재로그인 요구)되는지 확인.
  - 로그아웃 시 쿠키/상태가 정리되고 비로그인 상태로 전환되는지 확인.

## 회원가입 (/register)
- 현재까지 구현사항
  - 아이디/이메일/닉네임/비밀번호 입력 UI 및 기본 유효성 검사.
  - 서버 중복 검사 API 연동(아이디/이메일/닉네임).
  - 가입 성공 시 이메일 인증 토큰 발급 및 메일 발송(개발 모드 설정에 따라 콘솔 로그 처리 가능).
  - 이메일 인증 페이지(/verify-email)에서 토큰 검증 및 인증 완료 후 이동.
- 사용자가 테스트해야 할 내용
  - 신규 정보로 회원가입 성공 및 안내 메시지 확인.
  - 이미 사용 중인 아이디/이메일/닉네임 입력 시 중복 에러 표출 확인.
  - 이메일 인증 링크(토큰)로 이동 시 성공 처리 및 환영 메시지/리다이렉트 확인.
  - 인증되지 않은 계정으로 로그인 시 안내(정책에 따른 메시지) 동작 확인.

## 비밀번호 찾기 (/forgot-password)
- 현재까지 구현사항
  - 재설정 이메일 요청 폼(UI 일관, Alert/로딩 피드백).
  - 가입된/미가입 이메일 여부와 무관하게 동일한 성공 응답(보안 고려), 마스킹 이메일 표기.
  - 토큰 검증 화면(유효/만료/무효/사용됨 상태 표시) 및 새 비밀번호 설정 폼.
  - 비밀번호 강도 표시(간단 지표)와 비밀번호/확인 일치 검증.
  - 재설정 성공 시: 모든 기존 세션 무효화 + 자동 로그인(Refresh 쿠키 설정, Access 메모리 저장).
- 사용자가 테스트해야 할 내용
  - 가입된 이메일로 요청 시 성공 안내 및 마스킹 이메일 노출 확인.
  - 미가입 이메일로 요청해도 동일한 성공 안내가 보이는지 확인(보안상 동일 응답).
  - 재설정 링크(토큰)로 진입 시 토큰 상태가 올바르게 표시되는지 확인(유효/만료/무효/사용됨).
  - 새 비밀번호/확인 불일치 시 에러 메시지 표출 확인, 강도 표시 동작 확인.
  - 재설정 성공 후 자동 로그인 상태 및 메인 진입 가능 여부 확인.
  - 재설정 직전 로그인해둔 다른 세션/브라우저에서 더 이상 갱신이 되지 않는지(세션 무효화) 확인.

---

참고
- 테스트 편의를 위해 개발 환경에서 JWT 만료를 짧게 설정(.env.local):
  - `JWT_EXPIRES_IN="30s"`, `JWT_REFRESH_EXPIRES_IN="1m"`
- 이메일 발송은 개발 설정(ENABLE_DEV_EMAIL)에 따라 콘솔 로그 대체될 수 있습니다.
