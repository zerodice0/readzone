# ReadZone CI/CD ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë³´ê³ ì„œ

## ğŸ“Š í”„ë¡œì íŠ¸ êµ¬ì¡° ë¶„ì„

### ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
readzone/                    # ë‹¨ì¼ Next.js í”„ë¡œì íŠ¸
â”œâ”€â”€ package.json            # ë©”ì¸ ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ jest.config.js          # Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ playwright.config.ts    # Playwright E2E í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ prisma/                 # ë°ì´í„°ë² ì´ìŠ¤ (SQLite)
â”œâ”€â”€ src/                    # Next.js App Router êµ¬ì¡°
â”œâ”€â”€ tests/                  # ë³´ì•ˆ/RBAC/ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ e2e/                    # E2E í…ŒìŠ¤íŠ¸
â””â”€â”€ scripts/                # ë³´ì•ˆ/ì•”í˜¸í™” ìŠ¤í¬ë¦½íŠ¸
```

### ê¸°ì¡´ CI/CD ë¬¸ì œì 
- **ì˜ëª»ëœ êµ¬ì¡° ê°€ì •**: ëª¨ë…¸ë ˆí¬ êµ¬ì¡° (`readzone-backend`, `readzone-frontend`) ê°€ì •
- **ê²½ë¡œ ë¶ˆì¼ì¹˜**: ëª¨ë“  ì‘ì—… ë””ë ‰í† ë¦¬ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ ì°¸ì¡°
- **ì˜ì¡´ì„± ê´€ë¦¬ ì‹¤íŒ¨**: Dependabotì´ ì˜ëª»ëœ ë””ë ‰í† ë¦¬ ëª¨ë‹ˆí„°ë§

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ë¶„ì„

### Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- **ì„¤ì • íŒŒì¼**: `jest.config.js`
- **í…ŒìŠ¤íŠ¸ í™˜ê²½**: jsdom (Next.js í†µí•©)
- **ì»¤ë²„ë¦¬ì§€**: src/** ë””ë ‰í† ë¦¬ ì „ì²´
- **í…ŒìŠ¤íŠ¸ ë§¤ì¹­**: `**/__tests__/**/*.(js|jsx|ts|tsx)`, `**/*.(test|spec).(js|jsx|ts|tsx)`

### Playwright E2E í…ŒìŠ¤íŠ¸
- **ì„¤ì • íŒŒì¼**: `playwright.config.ts`
- **í…ŒìŠ¤íŠ¸ ë””ë ‰í† ë¦¬**: `./tests`
- **ë¸Œë¼ìš°ì € ì§€ì›**: Chromium, Firefox, WebKit, Mobile
- **íŠ¹ìˆ˜ í”„ë¡œì íŠ¸**: ë³´ì•ˆ, RBAC, ê´€ë¦¬ì, ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì „ìš© êµ¬ì„±
- **ê¸€ë¡œë²Œ ì„¤ì •**: `tests/global-setup.ts`, `tests/global-teardown.ts`

### ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
```bash
# ì‚¬ìš© ê°€ëŠ¥í•œ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
npm run test:security          # ê°œë°œ í™˜ê²½ ë³´ì•ˆ í…ŒìŠ¤íŠ¸
npm run test:security:staging  # ìŠ¤í…Œì´ì§• í™˜ê²½ ë³´ì•ˆ í…ŒìŠ¤íŠ¸
npm run test:compliance        # ì»´í”Œë¼ì´ì–¸ìŠ¤ ê²€ì¦
npm run test:penetration       # ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸
npm run test:rbac-security     # RBAC ë³´ì•ˆ í…ŒìŠ¤íŠ¸
npm run test:encryption        # ì•”í˜¸í™” í…ŒìŠ¤íŠ¸
npm run test:performance       # ì„±ëŠ¥ ë³´ì•ˆ í…ŒìŠ¤íŠ¸
```

## ğŸ”§ ë¹Œë“œ ë° ë°°í¬ ìš”êµ¬ì‚¬í•­

### Next.js ë¹Œë“œ í”„ë¡œì„¸ìŠ¤
- **ê°œë°œ ì„œë²„**: `npm run dev` (í¬íŠ¸ 3000)
- **í”„ë¡œë•ì…˜ ë¹Œë“œ**: `npm run build`
- **í”„ë¡œë•ì…˜ ì„œë²„**: `npm run start`
- **íƒ€ì… ì²´í¬**: `npm run type-check`
- **ë¦°íŠ¸**: `npm run lint`

### ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
- **ORM**: Prisma
- **ë°ì´í„°ë² ì´ìŠ¤**: SQLite (ê°œë°œ), PostgreSQL (í”„ë¡œë•ì…˜)
- **ë§ˆì´ê·¸ë ˆì´ì…˜**: `npm run db:migrate`
- **ì‹œë“œ**: `npm run db:seed`
- **ìŠ¤í‚¤ë§ˆ ìƒì„±**: `npm run db:generate`

### ì•”í˜¸í™” ê´€ë¦¬
```bash
# ì•”í˜¸í™” ë§ˆì´ê·¸ë ˆì´ì…˜ ë„êµ¬
npm run migrate:encryption:analyze    # ì•”í˜¸í™” ë¶„ì„
npm run migrate:encryption:dry-run    # ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œë®¬ë ˆì´ì…˜
npm run migrate:encryption:execute    # ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
```

## ğŸ“ˆ ì„±ëŠ¥ ë° í’ˆì§ˆ ë©”íŠ¸ë¦­

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: 80% ì´ìƒ
- **E2E í…ŒìŠ¤íŠ¸**: ì£¼ìš” ì‚¬ìš©ì íë¦„ 100%
- **ë³´ì•ˆ í…ŒìŠ¤íŠ¸**: ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: Core Web Vitals ê¸°ì¤€

### í’ˆì§ˆ ê²Œì´íŠ¸
- **TypeScript**: 0ê°œ íƒ€ì… ì—ëŸ¬
- **ESLint**: 0ê°œ ë¦°íŠ¸ ì—ëŸ¬/ê²½ê³ 
- **ë³´ì•ˆ ìŠ¤ìº”**: 0ê°œ ê³ ìœ„í—˜ ì·¨ì•½ì 
- **ì„±ëŠ¥**: LCP <2.5s, FID <100ms, CLS <0.1

## ğŸ—ï¸ ìƒˆë¡œìš´ CI/CD ì•„í‚¤í…ì²˜ ìš”êµ¬ì‚¬í•­

### CI íŒŒì´í”„ë¼ì¸ ìš”êµ¬ì‚¬í•­
1. **ì½”ë“œ í’ˆì§ˆ**
   - TypeScript ì»´íŒŒì¼ ì²´í¬
   - ESLint ë¦°íŠ¸ ê²€ì‚¬
   - Prettier í¬ë§· ê²€ì‚¬
   
2. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
   - Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
   - Playwright E2E í…ŒìŠ¤íŠ¸ (ë©€í‹° ë¸Œë¼ìš°ì €)
   - ë³´ì•ˆ í…ŒìŠ¤íŠ¸ í†µí•©
   - ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
   
3. **ë³´ì•ˆ ê²€ì‚¬**
   - ì˜ì¡´ì„± ì·¨ì•½ì  ìŠ¤ìº”
   - SAST (ì •ì  ë¶„ì„)
   - ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìŠ¤ìº”
   - ë³´ì•ˆ ì •ì±… ì¤€ìˆ˜ ê²€ì¦

### CD íŒŒì´í”„ë¼ì¸ ìš”êµ¬ì‚¬í•­
1. **Docker ì»¨í…Œì´ë„ˆí™”**
   - Next.js í”„ë¡œë•ì…˜ ë¹Œë“œ
   - ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ìµœì í™”
   - ë³´ì•ˆ ê°•í™”ëœ ë² ì´ìŠ¤ ì´ë¯¸ì§€
   
2. **í™˜ê²½ë³„ ë°°í¬**
   - ìŠ¤í…Œì´ì§• í™˜ê²½ ìë™ ë°°í¬
   - í”„ë¡œë•ì…˜ í™˜ê²½ ìŠ¹ì¸ ê¸°ë°˜ ë°°í¬
   - Blue-Green ë˜ëŠ” Rolling ë°°í¬ ì „ëµ
   
3. **ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼**
   - ë°°í¬ ìƒíƒœ ì¶”ì 
   - í—¬ìŠ¤ì²´í¬ ìë™í™”
   - ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±
   - Slack/ì´ë©”ì¼ ì•Œë¦¼

### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
```bash
# í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
DATABASE_URL              # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë¬¸ìì—´
NEXTAUTH_SECRET           # NextAuth.js ì‹œí¬ë¦¿
NEXTAUTH_URL             # NextAuth.js URL
KAKAO_BOOK_API_KEY       # ì¹´ì¹´ì˜¤ ì±… ê²€ìƒ‰ API
RESEND_API_KEY           # ì´ë©”ì¼ ë°œì†¡ API
```

## ğŸš€ ì¦‰ì‹œ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1 (ì™„ë£Œ)
- [x] ê¸°ì¡´ ì˜ëª»ëœ CI/CD íŒŒì¼ ì œê±°
- [x] Dependabot ì„¤ì • ìˆ˜ì •
- [x] í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ ë¶„ì„

### Phase 2 (ë‹¤ìŒ ë‹¨ê³„)
- [ ] ìƒˆë¡œìš´ CI ì›Œí¬í”Œë¡œìš° ìƒì„±
- [ ] Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µí•©
- [ ] Playwright E2E í…ŒìŠ¤íŠ¸ í†µí•©
- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ CI í†µí•©

### Phase 3 (ë°°í¬)
- [ ] Docker ì„¤ì • ìƒì„±
- [ ] CD ì›Œí¬í”Œë¡œìš° êµ¬í˜„
- [ ] í™˜ê²½ë³„ ë°°í¬ ì„¤ì •

### Phase 4 (ìµœì í™”)
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ê³ ê¸‰ ë³´ì•ˆ ê²Œì´íŠ¸
- [ ] ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ

## ğŸ“‹ ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### ìºì‹± ì „ëµ
- **Node.js ì˜ì¡´ì„±**: npm cache
- **Next.js ë¹Œë“œ**: .next ìºì‹œ
- **Playwright ë¸Œë¼ìš°ì €**: ë¸Œë¼ìš°ì € ë°”ì´ë„ˆë¦¬ ìºì‹œ
- **Docker ë ˆì´ì–´**: ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ìºì‹±

### ë³‘ë ¬ ì²˜ë¦¬
- **í…ŒìŠ¤íŠ¸ ë³‘ë ¬í™”**: Jest ì›Œì»¤, Playwright ë³‘ë ¬ ì‹¤í–‰
- **ë§¤íŠ¸ë¦­ìŠ¤ ë¹Œë“œ**: ì—¬ëŸ¬ Node.js ë²„ì „ ì§€ì›
- **ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸**: ë³‘ë ¬ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

### ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- **ì‹œí¬ë¦¿ ê´€ë¦¬**: GitHub Secrets í™œìš©
- **í™˜ê²½ ë¶„ë¦¬**: ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ í™˜ê²½ ê²©ë¦¬
- **ìµœì†Œ ê¶Œí•œ ì›ì¹™**: í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬
- **ì´ë¯¸ì§€ ìŠ¤ìº”**: Trivy, Snyk ë“± ì·¨ì•½ì  ìŠ¤ìº”

---

**ê²°ë¡ **: ReadZoneì€ ë‹¨ì¼ Next.js í”„ë¡œì íŠ¸ë¡œ, ê¸°ì¡´ì˜ ëª¨ë…¸ë ˆí¬ ê°€ì • CI/CDë¥¼ ì™„ì „íˆ ì¬ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤. 
í¬ê´„ì ì¸ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ê°€ ì´ë¯¸ êµ¬ì¶•ë˜ì–´ ìˆì–´ ì´ë¥¼ CIì— í†µí•©í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.