# Implementation Plan

- [-] 1. 백엔드 API 확장 및 검증 로직 구현
  - 프로필 업데이트, 비밀번호 변경, 아바타 업로드 API 엔드포인트 추가
  - 입력 검증 스키마 및 보안 로직 구현
  - _Requirements: 1.1, 2.1, 2.2, 2.3, 2.4, 2.5, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 5.1, 5.2, 5.3, 5.4, 5.5_

- [x] 1.1 프로필 업데이트 API 엔드포인트 구현
  - PUT /api/auth/profile 엔드포인트 추가하여 닉네임, bio, isPublic 필드 업데이트 지원
  - Joi 검증 스키마로 입력 데이터 검증 및 에러 처리
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 1.2 비밀번호 변경 API 엔드포인트 구현
  - POST /api/auth/change-password 엔드포인트 추가
  - 현재 비밀번호 확인 로직 및 새 비밀번호 복잡성 검증 구현
  - bcrypt를 사용한 안전한 비밀번호 해싱 및 저장
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7_

- [ ] 1.3 아바타 업로드 API 엔드포인트 구현
  - POST /api/auth/upload-avatar 및 DELETE /api/auth/avatar 엔드포인트 추가
  - 멀티파트 파일 업로드 처리 및 이미지 파일 검증 로직
  - 이미지 리사이징 및 최적화 기능 구현
  - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 2. 프론트엔드 서비스 레이어 확장
  - userService에 프로필 관리 관련 API 호출 함수 추가
  - 에러 처리 및 타입 정의 구현
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 2.1 프로필 업데이트 서비스 함수 구현
  - updateProfile 함수를 userService에 추가하여 PUT /api/auth/profile 호출
  - 타입 안전성을 위한 TypeScript 인터페이스 정의
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 2.2 비밀번호 변경 서비스 함수 구현
  - changePassword 함수를 authService에 추가하여 POST /api/auth/change-password 호출
  - 비밀번호 변경 요청 및 응답 타입 정의
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7_

- [ ] 2.3 아바타 업로드 서비스 함수 구현
  - uploadAvatar 및 removeAvatar 함수를 userService에 추가
  - 파일 업로드 진행률 및 에러 처리 로직 구현
  - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 3. 프로필 편집 UI 컴포넌트 구현
  - 닉네임 인라인 편집 컴포넌트 생성
  - 사용자 친화적인 편집 인터페이스 및 상태 관리
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 3.1 ProfileEditSection 컴포넌트 생성
  - 닉네임 필드의 인라인 편집 기능 구현
  - 편집 모드 토글 및 저장/취소 버튼 UI
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 3.2 편집 상태 관리 및 검증 로직 구현
  - 실시간 입력 검증 및 에러 메시지 표시
  - 저장 중 로딩 상태 및 성공/실패 피드백 구현
  - _Requirements: 2.2, 2.4, 2.5_

- [ ] 4. 비밀번호 변경 모달 컴포넌트 구현
  - 보안을 고려한 비밀번호 변경 UI 생성
  - 현재 비밀번호 확인 및 새 비밀번호 입력 폼
  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 4.1 PasswordChangeModal 컴포넌트 생성
  - 모달 UI 및 비밀번호 입력 폼 구현
  - 현재 비밀번호, 새 비밀번호, 확인 비밀번호 필드 구성
  - _Requirements: 3.1, 3.2, 3.3, 3.4_

- [ ] 4.2 비밀번호 검증 및 보안 로직 구현
  - 클라이언트 측 비밀번호 복잡성 검증
  - 비밀번호 일치 확인 및 실시간 피드백
  - _Requirements: 3.3, 3.4, 3.6, 3.7_

- [ ] 4.3 비밀번호 변경 처리 및 피드백 구현
  - 서버 API 호출 및 에러 처리 로직
  - 성공/실패 메시지 표시 및 모달 닫기 처리
  - _Requirements: 3.5, 3.6, 3.7_

- [ ] 5. 아바타 업로드 컴포넌트 구현
  - 이미지 파일 선택 및 미리보기 기능
  - 파일 검증 및 업로드 진행률 표시
  - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.5, 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 5.1 AvatarUpload 컴포넌트 생성
  - 현재 아바타 표시 및 파일 선택 UI 구현
  - 드래그 앤 드롭 및 클릭으로 파일 선택 지원
  - _Requirements: 5.1, 5.2_

- [ ] 5.2 이미지 파일 검증 및 미리보기 구현
  - 파일 형식 및 크기 검증 로직
  - 선택된 이미지의 미리보기 표시 기능
  - _Requirements: 5.2, 5.3_

- [ ] 5.3 아바타 업로드 및 삭제 처리 구현
  - 파일 업로드 진행률 표시 및 에러 처리
  - 아바타 삭제 기능 및 기본 아바타로 복원
  - _Requirements: 5.3, 5.4, 5.5_

- [ ] 6. ProfilePage 컴포넌트 업데이트 및 통합
  - 기존 ProfilePage에 새로운 편집 기능 통합
  - 읽기 전용 필드와 편집 가능 필드 구분 표시
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 4.1, 4.2, 4.3, 4.4, 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 6.1 ProfilePage 레이아웃 및 상태 관리 업데이트
  - 프로필 편집 모드 상태 관리 및 UI 업데이트
  - 읽기 전용 필드(username, email) 명확한 표시
  - _Requirements: 1.1, 1.2, 1.3, 4.1, 4.2, 4.3, 4.4_

- [ ] 6.2 편집 기능 통합 및 이벤트 처리
  - ProfileEditSection, PasswordChangeModal, AvatarUpload 컴포넌트 통합
  - 각 편집 기능의 성공/실패 처리 및 사용자 피드백
  - _Requirements: 2.4, 2.5, 3.5, 5.4_

- [ ] 6.3 반응형 디자인 및 접근성 구현
  - 모바일 및 데스크톱 환경에 최적화된 레이아웃
  - 키보드 네비게이션 및 스크린 리더 지원
  - _Requirements: 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 7. 상태 관리 업데이트 및 데이터 동기화
  - authStore에 프로필 업데이트 액션 추가
  - 프로필 변경 시 전역 상태 동기화
  - _Requirements: 1.1, 2.4, 2.5, 3.5, 5.4_

- [ ] 7.1 authStore 프로필 업데이트 액션 구현
  - updateProfile 액션을 authStore에 추가
  - 프로필 업데이트 후 사용자 정보 자동 갱신
  - _Requirements: 1.1, 2.4, 2.5_

- [ ] 7.2 전역 상태 동기화 및 캐시 관리
  - 프로필 변경 시 다른 컴포넌트의 사용자 정보 자동 업데이트
  - 아바타 변경 시 헤더 및 기타 UI 요소 즉시 반영
  - _Requirements: 2.5, 5.4_

- [ ] 8. 에러 처리 및 사용자 피드백 시스템 구현
  - 통합된 에러 처리 및 토스트 알림 시스템
  - 네트워크 오류 및 서버 오류에 대한 적절한 사용자 안내
  - _Requirements: 1.3, 2.5, 3.6, 3.7, 5.6_

- [ ] 8.1 에러 처리 유틸리티 및 토스트 시스템 구현
  - 프로필 관리 관련 에러 코드별 사용자 친화적 메시지 정의
  - 성공/실패 알림을 위한 토스트 컴포넌트 구현
  - _Requirements: 1.3, 2.5, 3.6, 3.7_

- [ ] 8.2 네트워크 오류 및 재시도 로직 구현
  - 네트워크 연결 실패 시 재시도 옵션 제공
  - 로딩 상태 및 오프라인 상태 감지 및 안내
  - _Requirements: 1.3_

- [ ] 9. 단위 테스트 및 통합 테스트 작성
  - 각 컴포넌트 및 서비스 함수에 대한 테스트 코드 작성
  - 프로필 관리 플로우 전체에 대한 통합 테스트
  - _Requirements: 모든 요구사항의 테스트 커버리지 확보_

- [ ] 9.1 컴포넌트 단위 테스트 작성
  - ProfileEditSection, PasswordChangeModal, AvatarUpload 컴포넌트 테스트
  - 사용자 상호작용 및 상태 변경 시나리오 테스트
  - _Requirements: 2.1, 2.2, 2.3, 3.1, 3.2, 3.3, 5.1, 5.2, 5.3_

- [ ] 9.2 서비스 레이어 및 API 통합 테스트 작성
  - userService 및 authService 함수 테스트
  - API 호출 성공/실패 시나리오 및 에러 처리 테스트
  - _Requirements: 2.4, 2.5, 3.4, 3.5, 3.6, 3.7, 5.4, 5.5_

- [ ] 9.3 E2E 테스트 시나리오 작성
  - 전체 프로필 관리 워크플로우 테스트
  - 보안 관련 시나리오 및 접근성 테스트
  - _Requirements: 전체 사용자 시나리오 검증_