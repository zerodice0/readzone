# ===================================
# ReadZone Environment Configuration
# ===================================
# Copy this file to .env and fill in actual values
# NEVER commit .env file to version control

# -----------------
# Node Environment
# -----------------
NODE_ENV=development
PORT=3000

# -----------------
# Database (PostgreSQL)
# -----------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://readzone:readzone_dev_password@localhost:5432/readzone

# Docker Compose PostgreSQL credentials
POSTGRES_USER=readzone
POSTGRES_PASSWORD=readzone_dev_password
POSTGRES_DB=readzone

# -----------------
# Redis (Session Store & Cache)
# -----------------
# Redis connection string
# Format: redis://[:PASSWORD@]HOST:PORT[/DB]
REDIS_URL=redis://:readzone_dev_redis_password@localhost:6379/0
REDIS_PASSWORD=readzone_dev_redis_password

# -----------------
# Authentication & Security
# -----------------
# JWT secret for token signing (generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session secret for cookie signing (generate with: openssl rand -base64 32)
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# JWT token expiration (default: 24 hours)
JWT_EXPIRES_IN=24h

# Session expiration (default: 30 days for "remember me")
SESSION_MAX_AGE=2592000000

# -----------------
# OAuth Providers
# -----------------
# Google OAuth 2.0
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/oauth/google/callback

# GitHub OAuth App
# Get credentials from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/v1/auth/oauth/github/callback

# -----------------
# Email Service (SendGrid or AWS SES)
# -----------------
# SMTP configuration
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_FROM_EMAIL=noreply@readzone.com
SMTP_FROM_NAME=ReadZone

# Email service provider (sendgrid or ses)
EMAIL_PROVIDER=sendgrid

# -----------------
# Application URLs
# -----------------
# Frontend URL (for email links)
FRONTEND_URL=http://localhost:5173

# Backend API URL
BACKEND_URL=http://localhost:3000

# -----------------
# Rate Limiting
# -----------------
# Global rate limit (requests per minute)
RATE_LIMIT_GLOBAL=100

# Auth endpoint rate limit (requests per 5 minutes)
RATE_LIMIT_AUTH=5

# Password reset rate limit (requests per hour)
RATE_LIMIT_PASSWORD_RESET=3

# -----------------
# Security Settings
# -----------------
# Bcrypt/Argon2 salt rounds (default: 12)
PASSWORD_HASH_ROUNDS=12

# Email verification token expiration (hours)
EMAIL_VERIFICATION_EXPIRES=24

# Password reset token expiration (hours)
PASSWORD_RESET_EXPIRES=1

# MFA TOTP window (seconds)
MFA_TOTP_WINDOW=30

# -----------------
# Logging
# -----------------
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=debug

# Enable pretty logging (disable in production)
LOG_PRETTY=true

# -----------------
# Testing (Optional)
# -----------------
# Test database URL (separate from development)
TEST_DATABASE_URL=postgresql://readzone:readzone_test_password@localhost:5432/readzone_test
